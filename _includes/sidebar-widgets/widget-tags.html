{% if site.tags.size >= 1 %}
<div class="widget-sidebar widget-tags">
  <h3 class="widget-sidebar-title">Popular topics</h4>

    {% capture site_tags %}{% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
    {% assign tag_words = site_tags | split:',' | sort %}

    <div class="tag-cloud">
    {% for item in (0..site.tags.size) %}{% unless forloop.last %}
    {% capture this_word %}{{ tag_words[item] | strip_newlines }}{% endcapture %}
      <a href="{{ site.baseurl }}/tags/?tag={{ this_word | downcase | url_encode }}" class="tag-cloud-item">{{ this_word }}</a>
    {% endunless %}
    {% endfor %}
    </div>
</div>
{% endif %}